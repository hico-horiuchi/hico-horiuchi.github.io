!function(e,t){"use strict";var n=t("undefined"!=typeof window?window:{});"object"==typeof module&&null!=module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):e.m=n}(this,function(e,t){"use strict";function n(e){return"function"==typeof e}function r(e){return"[object Object]"===tt.call(e)}function a(e){return"[object String]"===tt.call(e)}function o(){}function c(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function i(e,t){for(var n in e)nt.call(e,n)&&t(e[n],n)}function u(e){We=e.document,Xe=e.location,et=e.cancelAnimationFrame||e.clearTimeout,Ze=e.requestAnimationFrame||e.setTimeout}function l(e){function t(){return arguments.length&&(e=arguments[0]),e}return t.toJSON=function(){return e},t}function d(e){return null!=e&&(r(e)||n(e))&&n(e.then)}function s(e,t){return e.then?e.then(t):t()}function f(e){var t=m.prop();return e.then(t),t.then=function(n,r){return e.then(function(){return n(t())},r)},t["catch"]=function(n){return e.then(function(){return t()},n)},t["finally"]=function(t){return e.then(function(e){return s(t(),function(){return e})},function(e){return s(t(),function(){throw e})})},t}function h(e){return null!=e&&r(e)&&!("tag"in e||"view"in e||"subtree"in e)}function p(e,t){for(var n,r=[],a=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g;null!=(n=a.exec(e));)if(""===n[1]&&null!=n[2])t.tag=n[2];else if("#"===n[1])t.attrs.id=n[2];else if("."===n[1])r.push(n[2]);else if("["===n[3][0]){var o=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/.exec(n[3]);t.attrs[o[1]]=o[3]||(o[2]?"":!0)}return r}function v(e,t,n,r){var a=!1;if(nt.call(t,n)){var o=t[n];null!=o&&""!==o&&(a=!0,r.push(o))}i(t,function(t,r){e[r]=r===n&&a?"":t}),r.length&&(e[n]=r.join(" "))}function g(e){function t(){return c.apply(this,r)||this}function n(t){for(var n=[t].concat(r),a=1;a<arguments.length;a++)n.push(arguments[a]);return i.apply(e,n)}for(var r=[],a=1;a<arguments.length;a++)r.push(arguments[a]);var c=e.controller||o;c!==o&&(t.prototype=c.prototype);var i=e.view||o;n.$original=i;var u={controller:t,view:n};return r[0]&&null!=r[0].key&&(u.attrs={key:r[0].key}),u}function m(e,t){if(r(e))return g.apply(null,arguments);if(!a(e))throw new TypeError("selector in m(selector, attrs, children) should be a string");if(!e)throw new TypeError("selector cannot be an empty string");for(var n=h(t),o=[],c=n?2:1;c<arguments.length;c++)o.push(arguments[c]);var i;i=1===o.length&&rt(o[0])?o[0]:o;var u={tag:"div",attrs:{},children:i};return v(u.attrs,n?t:{},n&&"class"in t?"class":"className",p(e,u)),u}function y(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r=r&&r.attrs,r&&null!=r.key&&t(r,n))break}}function w(e){try{if(null!=e&&null!=e.toString())return e}catch(t){}return""}function x(e){for(var t=0;t<e.length;t++)rt(e[t])&&(e=e.concat.apply([],e),t--);return e}function b(e,t,n){e.insertBefore(t,e.childNodes[n]||null)}function E(e,t,n,r,a,o,c,i,u,l,d){return{parent:e,pTag:t,pCache:n,pIndex:r,data:a,cached:o,reattach:c,index:i,editable:u,ns:l,cfgs:d}}function C(e){return e.data=w(e.data),"retain"===e.data.subtree?e.cached:(T(e),rt(e.data)?O(e):null!=e.data&&r(e.data)?I(e):n(e.data)?e.cached:Z(e))}function T(e){if(null!=e.cached){if(tt.call(e.cached)===tt.call(e.data))return;if(e.pCache&&e.pCache.nodes){var t=e.index-e.pIndex,n=t+(rt(e.data)?e.data:e.cached.nodes).length;he(e.pCache.nodes.slice(t,n),e.pCache.slice(t,n))}else e.cached.nodes&&he(e.cached.nodes,e.cached)}e.cached=new e.data.constructor,e.cached.tag&&(e.cached={}),e.cached.nodes=[]}function k(e){var t=0;y(e,function(){return c(e,function(e){e=e&&e.attrs,e&&null==e.key&&(e.key="__mithril__"+t++)}),!0})}function N(e,t,n,r){return C(E(e.parent,e.pTag,e.cached,e.index,t,n,e.reattach,e.index+r||r,e.editable,e.ns,e.cfgs))}function O(e){e.data=x(e.data);var n=[],r=e.cached.length===e.data.length,a=0,o={},c=!1;y(e.cached,function(e,t){c=!0,o[e.key]={action:at,index:t}}),k(e.data),c&&A(e,o);for(var i=0,u=0,l=e.data.length;l>u;u++){var d=N(e,e.data[u],e.cached[i],a);d!==t&&(r=r&&d.nodes.intact,a+=ce(d),e.cached[i++]=d)}return r||S(e,n),e.cached}function A(e,t){var n=e.data.length!==e.cached.length;n||y(e.data,function(t,r){var a=e.cached[r];return n=a&&a.attrs&&a.attrs.key!==t.key}),n&&R(e,t)}function R(e,t){var n=e.cached.nodes;y(e.data,function(e,r){e=e.key,t[e]=t[e]?{action:ct,index:r,from:t[e].index,element:n[t[e].index]||We.createElement("div")}:{action:ot,index:r}});var r=[];i(t,function(e){r.push(e)});var a=r.sort(ie),o=new Array(e.cached.length);o.nodes=e.cached.nodes.slice(),c(a,function(t){var n=t.index;switch(t.action){case at:he(e.cached[n].nodes,e.cached[n]),o.splice(n,1);break;case ot:var r=We.createElement("div");r.key=e.data[n].attrs.key,b(e.parent,r,n),o.splice(n,0,{attrs:{key:e.data[n].attrs.key},nodes:[r]}),o.nodes[n]=r;break;case ct:var a=t.element;e.parent.childNodes[n]!==a&&e.parent.insertBefore(a,e.parent.childNodes[n]||null),o[n]=e.cached[t.from],o.nodes[n]=a}}),e.cached=o}function S(e,t){for(var n=0,r=e.data.length;r>n;n++){var a=e.cached[n];null!=a&&t.push.apply(t,a.nodes)}c(e.cached.nodes,function(n,r){null!=n.parentNode&&t.indexOf(n)<0&&he([n],[e.cached[r]])}),e.data.length<e.cached.length&&(e.cached.length=e.data.length),e.cached.nodes=t}function j(e){var t=e.data.attrs=e.data.attrs||{};e.cached.attrs=e.cached.attrs||{};var n=Object.keys(e.data.attrs);return K(e,n),n.length>+("key"in t)}function M(e){var t=e.data;return t.attrs.xmlns?t.attrs.xmlns:"svg"===t.tag?"http://www.w3.org/2000/svg":"math"===t.tag?"http://www.w3.org/1998/Math/MathML":e.ns}function I(e){var t=[],n=[];if(U(e,t,n),!e.data.tag&&n.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");var r=j(e);return a(e.data.tag)?J({builder:e,hasKeys:r,views:t,controllers:n,ns:M(e)}):void 0}function U(e,t,n){for(var r=e.cached&&e.cached.controllers;null!=e.data.view;)D(e,r,n,t)}function D(e,t,n,r){var a=e.data.view.$original||e.data.view,o=q(e.cached.views,a,t,e.data.controller),c=+(e.data&&e.data.attrs&&e.data.attrs.key);return e.data=0===ut||it||t&&t.indexOf(o)>-1?e.data.view(o):{tag:"placeholder"},"retain"===e.data.subtree?e.cached:(c===c&&((e.data.attrs=e.data.attrs||{}).key=c),void $(r,n,a,o))}function L(e,t){e.ctrls.splice(e.ctrls.indexOf(e.ctrl),1),e.views.splice(e.views.indexOf(e.view),1),e.ctrl&&n(e.ctrl.onunload)&&e.ctrl.onunload(t)}function $(e,t,n,r){e.push(n),lt[t.push(r)-1]={views:e,view:n,ctrl:r,ctrls:t}}function q(e,t,r,a){var o="diff"===st()&&e?e.indexOf(t):-1;return o>-1?r[o]:n(a)?new a:{}}function K(e,t){B(e,t)&&(e.cached.nodes.length&&he(e.cached.nodes),e.cached.cfgCtx&&n(e.cached.cfgCtx.onunload)&&e.cached.cfgCtx.onunload(),e.cached.controllers&&c(e.cached.controllers,function(e){e.unload&&e.onunload({preventDefault:o})}))}function z(e,n){var r=e.length;if(r!==n.length)return!1;for(var a=0,o=Object.create(null);r>a;)o[n[a]]=a++;for(;0!==a;)if(o[e[--a]]===t)return!1;return!0}function B(e,t){var n=e.data,r=e.cached;return n.tag!==r.tag?!0:z(t,Object.keys(r.attrs))?n.attrs.id!==r.attrs.id?!0:n.attrs.key!==r.attrs.key?!0:"all"===st()?!r.cfgCtx||r.cfgCtx.retain!==!0:"diff"===st()?r.cfgCtx&&r.cfgCtx.retain===!1:!1:!0}function H(e){var t=F(e);return e.builder.cached=V(e,t,_(e,t),P(e,t)),t}function J(e){var t=e.builder,n=0===t.cached.nodes.length,r=n?H(e):W(e);return(n||t.reattach&&null!=r)&&b(t.parent,r,t.index),X(t,r,n),t.cached}function F(e){var n=e.builder.data;return e.ns===t?n.attrs.is?We.createElement(n.tag,n.attrs.is):We.createElement(n.tag):n.attrs.is?We.createElementNS(e.ns,n.tag,n.attrs.is):We.createElementNS(e.ns,n.tag)}function _(e,t){var n=e.builder.data;return e.hasKeys?se(t,n.tag,n.attrs,{},e.ns):n.attrs}function G(e,n,r){var a=e.builder;return C(E(n,a.data.tag,t,t,a.data.children,a.cached.children,r,0,a.data.attrs.contenteditable?n:a.editable,e.ns,a.cfgs))}function P(e,t){var n=e.builder.data.children;return null!=n&&n.length?G(e,t,!0):n}function V(e,t,n,r){var a=e.builder.data,o={tag:a.tag,attrs:n,children:r,nodes:[t]};return Y(e,o),o.children&&!o.children.nodes&&(o.children.nodes=[]),"select"===a.tag&&"value"in a.attrs&&se(t,a.tag,{value:a.attrs.value},{},e.ns),o}function Q(e){if(e.onunload&&e.onunload.$old&&(e.onunload=e.onunload.$old),ut&&e.onunload){var t=e.onunload;e.onunload=o,e.onunload.$old=t}}function Y(e,t){e.controllers.length&&(t.views=e.views,t.controllers=e.controllers,c(e.controllers,Q))}function W(e){var t=e.builder.cached,n=t.nodes[0];return e.hasKeys&&se(n,e.builder.data.tag,e.builder.data.attrs,t.attrs,e.ns),t.children=G(e,n,!1),t.nodes.intact=!0,e.controllers.length&&(t.views=e.views,t.controllers=e.controllers),n}function X(e,t,r){var a=e.data,o=e.cached,c=a.attrs.config;if(n(c)){var i=o.cfgCtx=o.cfgCtx||{};e.cfgs.push(function(){return c.call(a,t,!r,i,o)})}}function Z(e){return 0===e.cached.nodes.length?te(e):e.cached.valueOf()!==e.data.valueOf()||e.reattach?ne(e):(e.cached.nodes.intact=!0,e.cached)}function ee(e){return!/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/.test(e)}function te(e){var t;e.data.$trusted?t=ve(e.parent,e.index,e.data):(t=[We.createTextNode(e.data)],ee(e.parent.nodeName)&&b(e.parent,t[0],e.index));var n;return n="string"==typeof e.data||"number"==typeof e.data||"boolean"==typeof e.data?new e.data.constructor(e.data):e.data,n.nodes=t,n}function ne(e){var t=e.cached.nodes;return e.editable&&e.editable===We.activeElement||(e.data.$trusted?(he(t,e.cached),t=ve(e.parent,e.index,e.data)):"textarea"===e.pTag?e.parent.value=e.data:e.editable?e.editable.innerHTML=e.data:((1===t[0].nodeType||t.length>1||t[0].nodeValue.trim&&!t[0].nodeValue.trim())&&(he(e.cached.nodes,e.cached),t=[We.createTextNode(e.data)]),re(e,t[0]))),e.cached=new e.data.constructor(e.data),e.cached.nodes=t,e.cached}function re(e,t){try{b(e.parent,t,e.index),t.nodeValue=e.data}catch(n){}}function ae(){ut++}function oe(){ut>1?ut--:(ut=0,m.redraw())}function ce(e){if(!e.$trusted)return rt(e)?e.length:1;var t=e.match(/<[^\/]|\>\s*[^<]/g);return null!=t?t.length:void 0}function ie(e,t){return e.action-t.action||e.index-t.index}function ue(e){return!/^(list|style|form|type|width|height)$/.test(e)}function le(e,t,a,o,c,u){if("config"!==e&&"key"!==e)if(n(t)&&"on"===e.slice(0,2))o[e]=ge(t,o);else if("style"===e&&null!=t&&r(t)){i(t,function(e,t){(null==a||a[t]!==e)&&(o.style[t]=e)});for(var l in a)nt.call(a,l)&&(nt.call(t,l)||(o.style[l]=""))}else null!=c?"href"===e?o.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.setAttribute("className"===e?"class":e,t):e in o&&ue(e)?("input"!==u||o[e]!==t)&&(o[e]=t):o.setAttribute(e,t)}function de(e,t,n,r,a,o){try{le(e,t,n,r,a,o)}catch(c){if(/\bInvalid argument\b/.test(c.message))throw c}}function se(e,t,n,r,a){return i(n,function(n,o){var c=r[o];o in r&&c===n?"value"===o&&"input"===t&&e.value!=n&&(e.value=n):(r[o]=n,de(o,n,c,e,a,t))}),r}function fe(e){try{e.parentNode.removeChild(e)}catch(t){}}function he(e,t){if(e.length){t=[].concat(t);for(var n=e.length-1;n>=0;n--){var r=e[n];null!=r&&r.parentNode&&(fe(r),t[n]&&pe(t[n]))}e.length&&(e.length=0)}}function pe(e){e.cfgCtx&&n(e.cfgCtx.onunload)&&(e.cfgCtx.onunload(),e.cfgCtx.onunload=null),e.controllers&&c(e.controllers,function(e){n(e.onunload)&&e.onunload({preventDefault:o})}),e.children&&(rt(e.children)?c(e.children,pe):e.children.tag&&pe(e.children))}function ve(e,t,n){var r=e.childNodes[t];if(r)if(1!==r.nodeType){var a=We.createElement("span");e.insertBefore(a,r||null),a.insertAdjacentHTML("beforebegin",n),e.removeChild(a)}else r.insertAdjacentHTML("beforebegin",n);else ft(e,n);for(var o=[];e.childNodes[t]!==r;)o.push(e.childNodes[t++]);return o}function ge(e,t){return function(n){st("diff"),ae();try{return e.call(t,n||event)}finally{ke()}}}function me(e){var t=pt.indexOf(e);return 0>t?pt.push(e)-1:t}function ye(e,t,n,r){var a=null===e;if(!r){st("all"),ae(),mt[n]=t,e=gt=e||{controller:o};var c=new(e.controller||o);return e===gt&&(wt[n]=c,yt[n]=e),ke(),a&&xe(t,n),wt[n]}a&&xe(t,n)}function we(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var r=mt.indexOf(e);0>r&&(r=mt.length);var a=!1,o={preventDefault:function(){a=!0,xt=bt=null}};return c(lt,function(e){null!=e.ctrl&&(L(e,o),e.ctrl.onunload=null)}),a?c(lt,function(e){e.ctrl.onunload=function(t){L(e,t)}}):lt=[],wt[r]&&n(wt[r].onunload)&&wt[r].onunload(o),ye(t,e,r,a)}function xe(e,t){mt.splice(t,1),wt.splice(t,1),yt.splice(t,1),ze(e),pt.splice(me(e),1)}function be(){0!==Ct&&et(Ct),Ct=Ze(Te,Et)}function Ee(){Ct=0}function Ce(e){Ct&&!e?kt():(Te(),Ct=Ze(Ee,Et))}function Te(){xt&&(xt(),xt=null);for(var e=0;e<mt.length;e++){var t=mt[e],n=yt[e],r=wt[e];null!=r&&m.render(t,n.view?n.view(r,[r]):"")}bt&&(bt(),bt=null),Ct=null,Tt=new Date,st("diff")}function ke(){"none"===st()?(ut--,st("diff")):oe()}function Ne(){var e=Xe[Ie.mode];"pathname"===Ie.mode&&(e+=Xe.search),Ot!==Ue(e)&&Rt(e)}function Oe(t){e[t]=Ne,xt=$e,e[t]()}function Ae(){return("pathname"===Ie.mode?"":Xe.pathname)+At[Ie.mode]}function Re(){e.history.pushState(null,We.title,At[Ie.mode]+Ot)}function Se(){e.history.replaceState(null,We.title,At[Ie.mode]+Ot)}function je(t){e.history.pushState?(xt=$e,bt=t?Se:Re,Rt(At[Ie.mode]+Ot)):(Xe[Ie.mode]=Ot,Rt(At[Ie.mode]+Ot))}function Me(e,t,n){arguments.length<3&&"object"!=typeof t&&(n=t,t=null);var r=Ot;Ot=e;var a,o,c=t||{},u=Ot.indexOf("?");if(u>=0){var l=Ke(Ot.slice(u+1));i(c,function(e,t){l[t]=c[t]}),a=qe(l),o=Ot.slice(0,u)}else a=qe(t),o=Ot;if(a){var d=-1===o.indexOf("?")?"?":"&";Ot=o+d+a}return je(n||r===e)}function Ie(e,t,n,r){if(0===arguments.length)return Ot;if(3===arguments.length&&a(t))Rt=function(r){var a=Ot=Ue(r);if(!De(e,n,a)){if(St)throw new Error("Ensure the default route matches one of the routes defined in m.route");St=!0,Ie(t,!0),St=!1}},Oe("hash"===Ie.mode?"onhashchange":"onpopstate");else if(e.addEventListener||e.attachEvent)e.href=Ae()+r.attrs.href,e.addEventListener?(e.removeEventListener("click",Le),e.addEventListener("click",Le)):(e.detachEvent("onclick",Le),e.attachEvent("onclick",Le));else if(a(e))return Me.apply(null,arguments)}function Ue(e){return e.slice(At[Ie.mode].length)}function De(e,t,n){var r=n.indexOf("?");r>=0?(Nt=Ke(n.substr(r+1,n.length)),n=n.substr(0,r)):Nt={};var a=Object.keys(t),o=a.indexOf(n);if(o>=0)return we(e,t[a[o]]),!0;for(var i in t)if(nt.call(t,i)){if(i===n)return we(e,t[i]),!0;var u=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(n))return n.replace(u,function(){for(var e=[],t=1,n=arguments.length-2;n>t;)e.push(arguments[t++]);var r=i.match(/:[^\/]+/g)||[];c(r,function(t,n){t=t.replace(/:|\./g,""),Nt[t]=decodeURIComponent(e[n])})}),we(e,t[i]),!0}}function Le(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;var t,n=e.currentTarget||e.srcElement;for(t="pathname"===Ie.mode&&n.search?Ke(n.search.slice(1)):{};n&&"A"!==n.nodeName.toUpperCase();)n=n.parentNode;ut=0,Ie(n[Ie.mode].slice(At[Ie.mode].length),t)}}function $e(){"hash"!==Ie.mode&&Xe.hash?Xe.hash=Xe.hash:e.scrollTo(0,0)}function qe(e,n){var a={},o=[];return i(e,function(e,i){var u=n?n+"["+i+"]":i;if(null===e)o.push(encodeURIComponent(u));else if(r(e))o.push(qe(e,u));else if(rt(e)){var l=[];a[u]=a[u]||{},c(e,function(e){a[u][e]||(a[u][e]=!0,l.push(encodeURIComponent(u)+"="+encodeURIComponent(e)))}),o.push(l.join("&"))}else e!==t&&o.push(encodeURIComponent(u)+"="+encodeURIComponent(e))}),o.join("&")}function Ke(e){if(!e)return{};"?"===e[0]&&(e=e.slice(1));var t=e.split("&"),n={};return c(t,function(e){var t=e.split("="),r=decodeURIComponent(t[0]),a=2===t.length?decodeURIComponent(t[1]):null;null!=n[r]?(rt(n[r])||(n[r]=[n[r]]),n[r].push(a)):n[r]=a}),n}function ze(e){var n=me(e);he(e.childNodes,vt[n]),vt[n]=t}function Be(e,t,n){return d(e)?e.then(function(e){Be(e,t,n)},function(e){Be(e,n,n)}):t(e)}function He(e,r){function a(e){m=e}function o(e){e.resolve(m)}function i(e){e.reject(m)}function u(e){return x!==i&&e(m),e}function l(e){w.push(e)}function s(e,t){var n=Je().resolve(e()).promise;return t!==i&&n(m),n.then(t)}function f(e){x=e,c(w,e),h=g=null}function h(e,t){Be(e,function(e){m=e,f(t===It?o:i)},function(e){m=e,f(i)})}function p(e,t){var n=0;try{return e.then(function(e){n++||g(jt,e,t)},function(e){n++||g(Mt,e,t)})}catch(r){return Je.onerror(r),g(Mt,r,t)}}function v(t,a,o){try{a===jt&&n(e)?t=e(t):a===Mt&&n(r)&&(t=r(t),a=jt)}catch(c){return Je.onerror(c),h(c,Ut)}return t===o?h(TypeError(),Ut):h(t,a===jt?It:Ut)}function g(e,t,n){var r;try{r=d(t)}catch(a){return Je.onerror(a),g(Mt,a,n)}return e===Mt&&Je.onerror(t),r?p(t,n):v(t,e,n)}var m,y=this,w=[],x=l;y.resolve=function(e){return x===l&&g(jt,e,y),y},y.reject=function(e){return x===l&&g(Mt,e,y),y},y.promise=function(e){return arguments.length&&Be(e,a,a),x!==i?m:t},y.promise.then=function(e,t){var n=new He(e,t);return x(n),u(n.promise)},y.promise["catch"]=function(e){return y.promise.then(null,e)},y.promise["finally"]=function(e){return y.promise.then(function(){return s(e,function(){return m})},function(){return s(e,function(){throw m})})}}function Je(){return new He}function Fe(e){return e instanceof EvalError||e instanceof RangeError||e instanceof ReferenceError||e instanceof SyntaxError||e instanceof TypeError||e instanceof URIError}function _e(){return"mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36)}function Ge(n){var r=_e(),a=We.createElement("script");e[r]=function(o){a.parentNode.removeChild(a),n.onload({success:!0,target:{responseText:o}}),e[r]=t},a.onerror=function(){return a.parentNode.removeChild(a),n.onerror({success:!1,target:{status:500,responseText:'{"error": "Error making jsonp request"}'}}),e[r]=t,!1},a.onload=function(){return!1},a.src=n.url+(n.url.indexOf("?")>0?"&":"?")+(n.callbackKey||"callback")+"="+r+"&"+qe(n.data||{}),We.body.appendChild(a)}function Pe(t){var r=new e.XMLHttpRequest;if(r.open(t.method,t.url,!0,t.user,t.password),r.onreadystatechange=function(){4===this.readyState&&(this.status>=200&&this.status<300?t.onload({success:!0,target:this}):t.onerror({success:!1,target:this}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),n(t.config)){var o=t.config(r,t);null!=o&&(r=o)}var c;if(c="GET"!==t.method&&t.data?t.data:"",c&&!a(c)&&!(c instanceof e.FormData))throw new Error("Request data should be either be a string or FormData. Check the `serialize` option in `m.request`");return r.send(c),r}function Ve(e){return e.dataType&&"JSONP"===e.dataType.toUpperCase()?Ge(e):Pe(e)}function Qe(e,t,n){if("GET"===e.method&&"jsonp"!==e.dataType){var r=e.url.indexOf("?")<0?"?":"&",a=qe(t);e.url+=a?r+a:""}else e.data=n(t);return e}function Ye(e,t){var n=e.match(/:[a-z]\w+/gi);return n&&t&&c(n,function(n){var r=n.slice(1);e=e.replace(n,t[r]),delete t[r]}),e}m.version=function(){return"v0.2.1"};var We,Xe,Ze,et,tt={}.toString,nt={}.hasOwnProperty,rt=Array.isArray||function(e){return"[object Array]"===tt.call(e)};u(e),m.deps=function(t){return u(e=t||e),e},m.prop=function(e){return d(e)?f(e):l(e)},m.component=g;var at=1,ot=2,ct=3,it=!1,ut=0,lt=[],dt=!1;m.redraw=function(e){if(!dt){dt=!0,e&&(it=!0);try{Ce(e)}finally{dt=it=!1}}};var st=m.redraw.strategy=m.prop();m.startComputation=ae,m.endComputation=oe;var ft=function(){try{return We.createRange().createContextualFragment("x"),function(e,t){e.appendChild(We.createRange().createContextualFragment(t))}}catch(e){return function(e,t){e.insertAdjacentHTML("beforeend",t)}}}(),ht={appendChild:function(e){We.documentElement&&We.documentElement!==e?We.replaceChild(e,We.documentElement):We.appendChild(e),this.childNodes=We.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},pt=[],vt={};m.render=function(e,n,r){if(!e)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render exists.");var a,o=[],i=me(e),u=e===We;a=u||e===We.documentElement?ht:e,u&&"html"!==n.tag&&(n={tag:"html",attrs:{},children:n}),vt[i]===t&&he(a.childNodes),r===!0&&ze(e),vt[i]=C(E(a,null,t,t,n,vt[i],!1,0,null,t,o)),c(o,function(e){e()})},m.trust=function(e){return e=new String(e),e.$trusted=!0,e};var gt,mt=[],yt=[],wt=[],xt=null,bt=null,Et=16;m.mount=m.module=we;var Ct=0,Tt=0,kt=Ze===e.requestAnimationFrame?be:function(){+new Date-Tt>Et&&be()};m.withAttr=function(e,t,n){return function(r){r=r||event;var a,o=r.currentTarget||this;a=e in o?o[e]:o.getAttribute(e),t.call(n||this,a)}};var Nt,Ot,At={pathname:"",hash:"#",search:"?"},Rt=o,St=!1;m.route=Ie,Ie.param=function(e){if(!Nt)throw new Error("You must call m.route(element, defaultRoute, routes) before calling mroute.param()");return e?Nt[e]:Nt},Ie.mode="search",Ie.buildQueryString=qe,Ie.parseQueryString=Ke;var jt=1,Mt=2,It=3,Ut=4;return m.deferred=Je,Je.prototype=He.prototype,Je.prototype.constructor=Je,Je.onerror=function(e){if(Fe(e))throw ut=0,e},m.sync=function(e){function t(e,t){return a[e]=t,0===--r&&(n.promise(a),n[o](a)),t}var n=new He,r=e.length,a=new Array(r),o="resolve";return e.length>0?c(e,function(e,n){e.then(function(e){return t(n,e)},function(e){return o="reject",t(n,e)})}):n.resolve([]),n.promise},m.request=function(e){e.background!==!0&&ae();var t=Je(),n=function(e){return e},r=n,a=function(e){return e.responseText};return e.dataType&&"JSONP"===e.dataType.toUpperCase()||(n=e.serialize||JSON.stringify,r=e.deserialize||JSON.parse,a=e.extract||function(e){return e.responseText.length||r!==JSON.parse?e.responseText:null}),e.serialize=n,e.deserialize=r,e.method=(e.method||"GET").toUpperCase(),e.url=Ye(e.url,e.data),e=Qe(e,e.data,n),e.onload=e.onerror=function(n){n=n||event;var o,i=n.success;o=i?e.unwrapSuccess:e.unwrapError;try{var u=r(a(n.target,e));o&&(u=o(u,n.target)),i?(rt(u)&&e.type?c(u,function(t,n){u[n]=new e.type(t)}):e.type&&(u=new e.type(u)),t.resolve(u)):t.reject(u)}catch(l){t.reject(l)}finally{e.background!==!0&&oe()}},Ve(e),t.promise(e.initialValue),t.promise},m});